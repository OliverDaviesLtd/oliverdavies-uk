workspace('oliverdavies-uk'):
  description: My personal website codebase.

command('composer %'):
  env:
    COMPOSE_PROJECT_NAME: = @('namespace')
  exec: |
    #!bash|=
    ws exec composer ={ input.argument('%') }

command('disable'):
  env:
    COMPOSE_PROJECT_NAME: = @('namespace')
  exec: |
    #!bash
    run docker-compose down --remove-orphans

command('drush %'):
  env:
    COMPOSE_PROJECT_NAME: = @('namespace')
  exec: |
    #!bash|=
    ws exec bin/drush ={ input.argument('%') }

command('enable'):
  env:
    COMPOSE_PROJECT_NAME: = @('namespace')
  exec: |
    #!bash
    run docker-compose up -d --build

command('exec %'):
  env:
    COMPOSE_PROJECT_NAME: = @('namespace')
  exec: |
    #!bash|=
    passthru docker-compose exec php ={ input.argument('%') }
